{"ast":null,"code":"// import ModalComponent from \"@/components/ModalComponent.vue\";\n\nimport cafesComponent from \"@/components/CafesComponent.vue\";\nexport default {\n  name: \"CafeComponent\",\n  data() {\n    return {\n      show: false,\n      success_show: false\n    };\n  },\n  props: {\n    \"cafe\": {\n      required: true,\n      type: Object\n    }\n    /*    \"feedback\": {\n          required: true,\n          type: Object\n        }*/\n  },\n\n  // components: {ModalComponent},\n  mounted() {\n    // console.log(JSON.stringify(ModalComponent))\n    function moveCaretToStart(inputObject) {\n      if (inputObject.textarea) {\n        let r = inputObject.textarea();\n        r.collapse(true);\n        r.select();\n      }\n    }\n  },\n  methods: {\n    toggle: function () {\n      if (!this.show) this.getFeedbacks();\n      this.show = !this.show;\n      return this.show;\n    },\n    saveFeedback: function () {\n      // alert(JSON.stringify(this.cafe.feedbacks))\n      this.success_show = true;\n      setTimeout(() => this.success_show = false, 5000);\n    },\n    getFeedbacks: function () {\n      cafesComponent.methods.getFeedbacks(this.cafe.id, cafesComponent.props);\n    }\n  }\n};","map":{"version":3,"names":["cafesComponent","name","data","show","success_show","props","required","type","Object","mounted","moveCaretToStart","inputObject","textarea","r","collapse","select","methods","toggle","getFeedbacks","saveFeedback","setTimeout","cafe","id"],"sources":["/home/oem/PhpstormProjects/Yii2Vue/basic/vuejs/src/components/CafeComponent.vue"],"sourcesContent":["<script>\n\n// import ModalComponent from \"@/components/ModalComponent.vue\";\n\n\nimport cafesComponent from \"@/components/CafesComponent.vue\";\n\nexport default {\n  name: \"CafeComponent\",\n\n  data() {\n    return {\n      show: false,\n      success_show: false\n\n    }\n  },\n\n  props: {\n    \"cafe\": {\n      required: true,\n      type: Object\n    },\n    /*    \"feedback\": {\n          required: true,\n          type: Object\n        }*/\n  },\n  // components: {ModalComponent},\n  mounted() {\n    // console.log(JSON.stringify(ModalComponent))\n    function moveCaretToStart(inputObject) {\n      if (inputObject.textarea) {\n        let r = inputObject.textarea();\n        r.collapse(true);\n        r.select();\n      }\n    }\n  },\n  methods: {\n    toggle: function () {\n      if (!this.show) this.getFeedbacks()\n      this.show = !this.show\n      return this.show\n    },\n    saveFeedback: function () {\n      // alert(JSON.stringify(this.cafe.feedbacks))\n      this.success_show = true\n      setTimeout(() => this.success_show = false, 5000)\n    },\n    getFeedbacks: function () {\ncafesComponent.methods.getFeedbacks(this.cafe.id, cafesComponent.props)\n    }\n  }\n}\n\n</script>\n\n<template>\n\n  <div class=\"tc-cafe\" @click.prevent=\"toggle\" v-show=\"cafe.show\">\n    <div class=\"tc-cafe-title\">\n      {{ cafe.name }}`\n    </div>\n    <div class=\"tc-cafe-body\">\n      Отзывов: {{ cafe.feedbacksCount }}\n    </div>\n    <img v-bind:src=\"cafe.photo\" width=\"280\" v-show=\"true\" alt=\"\"/>\n    <!--        <img v-bind:src=\"cafe.photo\" width=\"280\" v-on:click=\"MMM.methods.toggle\" v-show=\"!MMM.data().show\"/>-->\n    <div class=\"tc-cafe-body\" v-show=\"show&&cafe.show\">\n      <div>\n        <div v-show=\"cafe.address\">Адрес: {{ cafe.address }}</div>\n        <div v-show=\"cafe.landmark\">Ориентиры: {{ cafe.landmark }}</div>\n        <div v-show=\"cafe.cuisine\">Кухня: {{ cafe.cuisine }}</div>\n        <div v-show=\"cafe.distance\">Расстояние: {{ cafe.distance }}м.</div>\n        <div v-show=\"cafe.time\">Время в пути: {{ cafe.time }} мин.</div>\n<!--        <div v-show=\"cafe.hasOwnProperty('business_lunch')\"> Бизнес-ланч: {{ business_lunch ? 'Да' : 'Нет' }}</div>-->\n        <div v-show=\"cafe.price\">Ср.чек: {{ cafe.price }} руб.</div>\n        <p/>\n        <div class=\"tc-feedbacks\">\n\n          <li v-for=\"n in cafe.feedbacks\" v-bind:key=\"n\">{{ n }}</li>\n\n        </div>\n        <div>\n          <p></p>\n          Оставить отзыв\n        </div>\n        <div class=\"tc-cafe-input\">\n              <textarea id=\"Field4\" @click.prevent=\"toggle\"\n                        name=\"Field4\"\n              >\n                </textarea>\n          <div class=\"alert alert-success\" role=\"alert\" v-if=\"success_show\" id=\"success_message\">Success <i\n              class=\"glyphicon glyphicon-thumbs-up\"></i> Thanks for contacting us, we will get back to you shortly.\n          </div>\n          <button type=submit @click=\"saveFeedback\" @click.prevent=\"toggle\">Сохранить</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n\n</template>\n\n<style lang=\"scss\" scoped>\n//#success_message{ display: v-bind()=\"suc\";}\n.tc-cafe {\n  background-color: #f0c806;\n  border-radius: 8px;\n  width: 280px;\n  margin: 0 10px 20px;\n  box-shadow: 1px 3px 5px rgba(0, 0, 0, 0.2);\n  transition: all 0.5s;\n  cursor: pointer;\n  font-family: 'Caveat', cursive;\n\n  .tc-cafe-header {\n    padding: 10px 16px 0;\n\n    .tc-cafe-close {\n      display: inline-block;\n      width: 24px;\n      height: 24px;\n      border-radius: 50%;\n      line-height: 24px;\n      text-align: center;\n      transition: all 0.3s;\n\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n      }\n\n      &:focus {\n        box-shadow: inset 2px 3px 0 rgba(0, 0, 0, 0.8);\n      }\n    }\n\n    .tc-cafe-close {\n      float: right;\n    }\n  }\n\n  .tc-cafe-title,\n  .tc-cafe-body {\n    outline: 0;\n  }\n\n  .tc-cafe-title {\n    font-size: 24px;\n    padding: 10px 16px;\n    font-weight: bold;\n  }\n\n  .tc-cafe-input {\n    width: 100%;\n    max-width: 500px;\n    outline: none;\n    border: 1px solid var(--aurora-2);\n    border-radius: 0.25rem;\n    min-width: 12rem;\n    font-size: 24px;\n    font-weight: bold;\n    color: var(--aurora-2);\n    opacity: 80%;\n  }\n\n  .tc-cafe-body {\n    font-size: 20px;\n    padding: 10px 16px 16px;\n  }\n\n  &:hover {\n    box-shadow: 2px 4px 10px rgba(0, 0, 0, 0.3);\n  }\n}\n\n</style>"],"mappings":"AAEA;;AAGA,OAAOA,cAAa,MAAO,iCAAiC;AAE5D,eAAe;EACbC,IAAI,EAAE,eAAe;EAErBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,KAAK;MACXC,YAAY,EAAE;IAEhB;EACF,CAAC;EAEDC,KAAK,EAAE;IACL,MAAM,EAAE;MACNC,QAAQ,EAAE,IAAI;MACdC,IAAI,EAAEC;IACR;IACA;;;;EAIF,CAAC;;EACD;EACAC,OAAOA,CAAA,EAAG;IACR;IACA,SAASC,gBAAgBA,CAACC,WAAW,EAAE;MACrC,IAAIA,WAAW,CAACC,QAAQ,EAAE;QACxB,IAAIC,CAAA,GAAIF,WAAW,CAACC,QAAQ,CAAC,CAAC;QAC9BC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAAC;QAChBD,CAAC,CAACE,MAAM,CAAC,CAAC;MACZ;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,MAAM,EAAE,SAAAA,CAAA,EAAY;MAClB,IAAI,CAAC,IAAI,CAACd,IAAI,EAAE,IAAI,CAACe,YAAY,CAAC;MAClC,IAAI,CAACf,IAAG,GAAI,CAAC,IAAI,CAACA,IAAG;MACrB,OAAO,IAAI,CAACA,IAAG;IACjB,CAAC;IACDgB,YAAY,EAAE,SAAAA,CAAA,EAAY;MACxB;MACA,IAAI,CAACf,YAAW,GAAI,IAAG;MACvBgB,UAAU,CAAC,MAAM,IAAI,CAAChB,YAAW,GAAI,KAAK,EAAE,IAAI;IAClD,CAAC;IACDc,YAAY,EAAE,SAAAA,CAAA,EAAY;MAC9BlB,cAAc,CAACgB,OAAO,CAACE,YAAY,CAAC,IAAI,CAACG,IAAI,CAACC,EAAE,EAAEtB,cAAc,CAACK,KAAK;IAClE;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}